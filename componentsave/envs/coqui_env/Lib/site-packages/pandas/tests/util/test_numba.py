import os, sys
sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), '../..')))
import pytest

import pandas.util._test_decorators as td

from componentsave.pandas import option_context


@td.skip_if_installed("numba")
def test_numba_not_installed_option_context():
    with pytest.raises(ImportError, match="Missing optional"):
        with option_context("compute.use_numba", True):
            pass
